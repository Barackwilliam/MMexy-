{% extends 'base.html' %}
{% load static %}

{% block title %}{{ tour.Tour_title }}{% endblock %}

{% block content %}
<style>
  /* General Reset and Styling */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Open Sans', sans-serif;
    background-color: #f9f6f2;
    color: #333;
  }

  /* Hero Section with Sliding Background */
  .hero {
    position: relative;
    height: 50vh; /* Compact header */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
    overflow: hidden;
    background: url('{% static "images/zanzibar-beach.jpg" %}') no-repeat center center/cover;
    animation: slide 15s infinite;
  }

 /* Sliding Background Animation */
  @keyframes slide {
    0% { background-image: url('https://fun-zanzibar.com/wp-content/uploads/2024/05/Fun-Beach-Hotel-Zanzibar-Beach-Area-3.webp'); }
    33.33% { background-image: url('https://edentours.travel/wp-content/uploads/2019/01/Royal-Zanzibar-Beach-Resort-6-1160x696.jpg'); }
    66.66% { background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRE7qCzxdBsP-l_aOUeYNCvgEBp5SmHOQYVFQ&s'); }
    100% { background-image: url('https://images.trvl-media.com/lodging/6000000/5390000/5388900/5388856/5bda86a6.jpg?impolicy=resizecrop&rw=575&rh=575&ra=fill'); }
  }

  .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(20, 33, 61, 0.5); /* Navy overlay for readability */
  }

  .hero h1 {
    font-family: 'Lora', serif;
    font-size: 2.5rem;
    font-weight: 700;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
    position: relative;
    z-index: 1;
  }

  /* Breadcrumb */
  .breadcrumb {
    background: transparent;
    margin: 1rem 0;
  }

  .breadcrumb-item a {
    color: #1f7a8c;
    text-decoration: none;
    font-weight: 500;
  }

  .breadcrumb-item a:hover {
    color: #ff6f61;
  }

  .breadcrumb-item.active {
    color: #ff6f61;
  }

  /* Tour Content */
  .tour-content {
    margin: 2rem 0;
  }

  .tour-content h2 {
    font-family: 'Lora', serif;
    font-size: 2rem;
    color: #1f7a8c;
    text-align: center;
    position: relative;
    margin-bottom: 1.5rem;
  }

  .tour-content h2::after {
    content: '';
    width: 80px;
    height: 3px;
    background: linear-gradient(to right, #ff6f61, #f4c095);
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
  }

  .tour-content p {
    font-size: 1rem;
    line-height: 1.7;
    color: #444;
    text-align: justify;
  }

  /* Itinerary Accordion */
  .accordion-item {
    border: none;
    border-radius: 10px;
    margin-bottom: 1rem;
    background: white;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease;
  }

  .accordion-item:hover {
    transform: translateY(-5px);
  }

  .accordion-button {
    font-family: 'Lora', serif;
    font-size: 1.1rem;
    color: #14213d;
    background: linear-gradient(to right, #f4c095, #ffffff);
    border-radius: 10px !important;
    padding: 1rem;
  }

  .accordion-button:not(.collapsed) {
    color: #fff;
    background: linear-gradient(to right, #1f7a8c, #ff6f61);
  }

  .accordion-button:focus {
    box-shadow: none;
  }

  .badge-day {
    background: #ff6f61 !important;
    margin-right: 1rem;
    font-size: 0.9rem;
  }

  .accordion-body {
    font-size: 0.95rem;
    line-height: 1.6;
    color: #444;
    padding: 1.5rem;
  }

  /* CTA Section */
  .cta-section {
    background: linear-gradient(to right, #1f7a8c, #f4c095);
    color: white;
    text-align: center;
    padding: 2rem;
    margin: 2rem 0;
    border-radius: 12px;
  }

  .cta-section h3 {
    font-family: 'Lora', serif;
    font-size: 1.8rem;
    margin-bottom: 0.8rem;
  }

  .cta-section a {
    background: #14213d;
    color: white;
    padding: 0.6rem 1.2rem;
    border-radius: 5px;
    text-decoration: none;
    font-weight: 500;
  }

  .cta-section a:hover {
    background: #ff6f61;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .hero {
      height: 40vh;
    }

    .hero h1 {
      font-size: 2rem;
    }

    .tour-content h2 {
      font-size: 1.8rem;
    }

    .cta-section h3 {
      font-size: 1.5rem;
    }
  }

  @media (max-width: 576px) {
    .hero h1 {
      font-size: 1.8rem;
    }

    .tour-content h2 {
      font-size: 1.6rem;
    }

    .accordion-button {
      font-size: 1rem;
    }
  }
</style>

<!-- Hero Section -->
<section class="hero">
  <h1 style="color: white;">{{ tour.Tour_title }}</h1>
</section>

<!-- Breadcrumb -->
<div class="container">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">üè† Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ tour.Tour_title }}</li>
    </ol>
  </nav>
</div>

<!-- Tour Details -->
<div class="container">
  <div class="tour-content">
    <h2>{{ tour.Tour_title }}</h2>
    <p>{{ tour.Tour_Descriptions }}</p>
  </div>
</div>

<!-- Itinerary Accordion -->
<div class="container mb-5">
  <div class="accordion" id="itineraryAccordion">
    {% for item in itineraries %}
      <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{ item.day_number }}">
          <button 
            class="accordion-button collapsed" 
            type="button" 
            data-bs-toggle="collapse" 
            data-bs-target="#collapse{{ item.day_number }}" 
            aria-expanded="false" 
            aria-controls="collapse{{ item.day_number }}">
            <span class="badge bg-primary rounded-pill px-3 py-2 badge-day">
              Day {{ item.day_number }}
            </span> 
            {{ item.title }}
          </button>
        </h2>
        <div 
          id="collapse{{ item.day_number }}" 
          class="accordion-collapse collapse" 
          aria-labelledby="heading{{ item.day_number }}" 
          data-bs-parent="#itineraryAccordion">
          <div class="accordion-body">
            <p>{{ item.description }}</p>
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-muted text-center">No itinerary available for this tour yet.</p>
    {% endfor %}
  </div>
</div>



<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}